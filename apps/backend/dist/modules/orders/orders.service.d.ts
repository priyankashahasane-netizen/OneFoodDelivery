import { Repository } from 'typeorm';
import { PaginationQueryDto } from '../../common/dto/pagination.dto.js';
import { DriversService } from '../drivers/drivers.service.js';
import type { RoutesService } from '../routes/routes.service.js';
import { OrderEntity } from './entities/order.entity.js';
import { UpsertOrderDto } from './dto/upsert-order.dto.js';
export declare class OrdersService {
    private readonly ordersRepository;
    private readonly driversService;
    private readonly routesService;
    constructor(ordersRepository: Repository<OrderEntity>, driversService: DriversService, routesService: RoutesService);
    listOrders(pagination: PaginationQueryDto): Promise<{
        items: OrderEntity[];
        total: number;
        page: number;
        pageSize: number;
    }>;
    findById(orderId: string): Promise<OrderEntity>;
    findByIdForDriver(orderId: string, driverId: string): Promise<{
        id: number;
        user_id: any;
        order_amount: any;
        coupon_discount_amount: number;
        payment_status: string;
        order_status: string;
        total_tax_amount: number;
        payment_method: string;
        transaction_reference: any;
        delivery_address_id: any;
        delivery_man_id: string;
        order_type: string;
        restaurant_id: any;
        created_at: string;
        updated_at: string;
        delivery_charge: number;
        original_delivery_charge: number;
        dm_tips: number;
        schedule_at: any;
        restaurant_name: any;
        restaurant_discount_amount: number;
        restaurant_address: any;
        restaurant_lat: string;
        restaurant_lng: string;
        restaurant_logo_full_url: any;
        restaurant_phone: any;
        restaurant_delivery_time: any;
        vendor_id: any;
        details_count: number;
        order_note: any;
        delivery_address: {
            id: any;
            address_type: string;
            contact_person_number: any;
            address: any;
            latitude: string;
            longitude: string;
            zone_id: any;
            zone_ids: any;
            created_at: any;
            updated_at: any;
            user_id: any;
            contact_person_name: any;
            road: any;
            house: any;
            floor: any;
            postal_code: any;
            address_label: any;
        };
        customer: any;
        processing_time: any;
        chat_permission: any;
        restaurant_model: any;
        cutlery: boolean;
        unavailable_item_note: any;
        delivery_instruction: any;
        order_proof_full_url: any;
        payments: any;
        restaurant_discount: number;
        tax_status: boolean;
        additional_charge: number;
        extra_packaging_amount: number;
        ref_bonus_amount: number;
        bring_change_amount: number;
        external_ref: string;
        items: {
            name: any;
            price: any;
            quantity: any;
            add_ons: any;
        }[];
        order_details: {
            id: number;
            food_id: any;
            order_id: number;
            price: any;
            food_details: {
                id: any;
                name: any;
                description: any;
                image_full_url: any;
                price: any;
            };
            variation: any;
            add_ons: any;
            discount_on_food: any;
            discount_type: any;
            quantity: any;
            tax_amount: any;
            variant: any;
            created_at: string;
            updated_at: string;
            item_campaign_id: any;
            total_add_on_price: any;
        }[];
    }>;
    private transformOrderForFlutter;
    create(payload: UpsertOrderDto): Promise<OrderEntity>;
    upsert(orderId: string, payload: UpsertOrderDto): Promise<OrderEntity>;
    assignDriver(orderId: string, driverId: string): Promise<OrderEntity>;
    updateStatus(orderId: string, status: string, payload?: Partial<Pick<OrderEntity, 'trackingUrl'>>): Promise<OrderEntity>;
    getActiveOrdersByDriverRaw(driverId: string): Promise<OrderEntity[]>;
    getActiveOrdersByDriver(driverId: string): Promise<{
        id: number;
        user_id: any;
        order_amount: any;
        coupon_discount_amount: number;
        payment_status: string;
        order_status: string;
        total_tax_amount: number;
        payment_method: string;
        transaction_reference: any;
        delivery_address_id: any;
        delivery_man_id: string;
        order_type: string;
        restaurant_id: any;
        created_at: string;
        updated_at: string;
        delivery_charge: number;
        original_delivery_charge: number;
        dm_tips: number;
        schedule_at: any;
        restaurant_name: any;
        restaurant_discount_amount: number;
        restaurant_address: any;
        restaurant_lat: string;
        restaurant_lng: string;
        restaurant_logo_full_url: any;
        restaurant_phone: any;
        restaurant_delivery_time: any;
        vendor_id: any;
        details_count: number;
        order_note: any;
        delivery_address: {
            id: any;
            address_type: string;
            contact_person_number: any;
            address: any;
            latitude: string;
            longitude: string;
            zone_id: any;
            zone_ids: any;
            created_at: any;
            updated_at: any;
            user_id: any;
            contact_person_name: any;
            road: any;
            house: any;
            floor: any;
            postal_code: any;
            address_label: any;
        };
        customer: any;
        processing_time: any;
        chat_permission: any;
        restaurant_model: any;
        cutlery: boolean;
        unavailable_item_note: any;
        delivery_instruction: any;
        order_proof_full_url: any;
        payments: any;
        restaurant_discount: number;
        tax_status: boolean;
        additional_charge: number;
        extra_packaging_amount: number;
        ref_bonus_amount: number;
        bring_change_amount: number;
        external_ref: string;
        items: {
            name: any;
            price: any;
            quantity: any;
        }[];
    }[]>;
    getAvailableOrders(driverId?: string): Promise<{
        id: number;
        user_id: any;
        order_amount: any;
        coupon_discount_amount: number;
        payment_status: string;
        order_status: string;
        total_tax_amount: number;
        payment_method: string;
        transaction_reference: any;
        delivery_address_id: any;
        delivery_man_id: any;
        order_type: string;
        restaurant_id: any;
        created_at: string;
        updated_at: string;
        delivery_charge: number;
        original_delivery_charge: number;
        dm_tips: number;
        schedule_at: any;
        restaurant_name: any;
        restaurant_discount_amount: number;
        restaurant_address: any;
        restaurant_lat: string;
        restaurant_lng: string;
        restaurant_logo_full_url: any;
        restaurant_phone: any;
        restaurant_delivery_time: any;
        vendor_id: any;
        details_count: number;
        order_note: any;
        delivery_address: {
            id: any;
            address_type: string;
            contact_person_number: any;
            address: any;
            latitude: any;
            longitude: any;
            zone_id: any;
            zone_ids: any;
            created_at: any;
            updated_at: any;
            user_id: any;
            contact_person_name: any;
            road: any;
            house: any;
            floor: any;
            postal_code: any;
            address_label: any;
        };
        customer: any;
        processing_time: any;
        chat_permission: any;
        restaurant_model: any;
        cutlery: boolean;
        unavailable_item_note: any;
        delivery_instruction: any;
        order_proof_full_url: any;
        payments: any;
        restaurant_discount: number;
        tax_status: boolean;
        additional_charge: number;
        extra_packaging_amount: number;
        ref_bonus_amount: number;
        bring_change_amount: number;
        external_ref: string;
        items: {
            name: any;
            price: any;
            quantity: any;
        }[];
    }[]>;
    getCompletedOrdersByDriver(driverId: string, options: {
        offset?: number;
        limit?: number;
        status?: string;
    }): Promise<{
        orders: {
            id: number;
            user_id: any;
            order_amount: any;
            coupon_discount_amount: number;
            payment_status: string;
            order_status: string;
            total_tax_amount: number;
            payment_method: string;
            transaction_reference: any;
            delivery_address_id: any;
            delivery_man_id: string;
            order_type: string;
            restaurant_id: any;
            created_at: string;
            updated_at: string;
            delivery_charge: number;
            original_delivery_charge: number;
            dm_tips: number;
            schedule_at: any;
            restaurant_name: any;
            restaurant_discount_amount: number;
            restaurant_address: any;
            restaurant_lat: string;
            restaurant_lng: string;
            restaurant_logo_full_url: any;
            restaurant_phone: any;
            restaurant_delivery_time: any;
            vendor_id: any;
            details_count: number;
            order_note: any;
            delivery_address: {
                id: any;
                address_type: string;
                contact_person_number: any;
                address: any;
                latitude: string;
                longitude: string;
                zone_id: any;
                zone_ids: any;
                created_at: any;
                updated_at: any;
                user_id: any;
                contact_person_name: any;
                road: any;
                house: any;
                floor: any;
                postal_code: any;
                address_label: any;
            };
            customer: any;
            processing_time: any;
            chat_permission: any;
            restaurant_model: any;
            cutlery: boolean;
            unavailable_item_note: any;
            delivery_instruction: any;
            order_proof_full_url: any;
            payments: any;
            restaurant_discount: number;
            tax_status: boolean;
            additional_charge: number;
            extra_packaging_amount: number;
            ref_bonus_amount: number;
            bring_change_amount: number;
            external_ref: string;
            items: unknown[];
        }[];
        total_size: number;
        limit: string;
        offset: string;
        order_count: {
            all: number;
            delivered: number;
            canceled: number;
            refund_requested: number;
            refunded: number;
            refund_request_canceled: number;
        };
    }>;
}
